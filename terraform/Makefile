# Makefile - Terraform í”„ë¡œì íŠ¸ìš©
# ì‚¬ìš©ë²•: make <command>

.PHONY: help init-prod init-local clean

# ê¸°ë³¸ ëª…ë ¹ì–´ (makeë§Œ ì…ë ¥ ì‹œ)
help:
	@echo "ì‚¬ìš© ê°€ëŠ¥í•œ ëª…ë ¹ì–´:"
	@echo "  make init         - Terraform ì´ˆê¸°í™”"
	@echo "  make plan         - Plan ì‹¤í–‰"
	@echo "  make apply        - Apply ì‹¤í–‰"
	@echo "  make clean        - .terraform ë””ë ‰í† ë¦¬ ì‚­ì œ"

# ============================================================
# Terraform ëª…ë ¹ì–´
# ============================================================

init: clean
	@echo "ğŸš€ Terraform ì´ˆê¸°í™” ì¤‘..."
	terraform init
	@echo "âœ… ì´ˆê¸°í™” ì™„ë£Œ!"

plan:
	@echo "ğŸ“‹ Plan ì‹¤í–‰ ì¤‘..."
	terraform plan
	@echo "âœ… Plan ì™„ë£Œ!"

apply:
	@echo "ğŸ”¨ Apply ì‹¤í–‰ ì¤‘..."
	terraform apply
	@echo "âœ… Apply ì™„ë£Œ!"

# ============================================================
# Utility ëª…ë ¹ì–´
# ============================================================

clean:
	@echo "ğŸ§¹ .terraform ë””ë ‰í† ë¦¬ ì •ë¦¬ ì¤‘..."
	rm -rf .terraform .terraform.lock.hcl
	@echo "âœ… ì •ë¦¬ ì™„ë£Œ!"

